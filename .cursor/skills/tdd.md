# テスト駆動開発ワークフロー（t-wada流TDD）

TDDの最終目的は「**動作するきれいなコード**」を書くことです。t-wadaさんの手法に基づいて、以下のサイクルを繰り返します。

## レッド・グリーン・リファクタリングサイクル

### 1. Red（レッド）：テストを書き、失敗させる

- まず達成すべき機能要件をTODOリストとして洗い出し、テスト容易性が高いものから一つずつ取り組む
- テストコードを書き、**必ず失敗することを確認する**
- まだ存在しない機能のモック実装は作らない
- テストケース名を明確にして構造化し、「動く仕様書」として機能させる

### 2. Green（グリーン）：テストを最短で通す

- テストを通すための**最短のコード**を書く
- この段階では「きれいさ」は気にしない
- 「動作する」ことを最優先にする
- テストは変更しない

### 3. Refactoring（リファクタリング）：コードをきれいにする

- テストが通ったまま、コードをきれいにする
- リファクタリングは独立したタスクではなく、サイクルに組み込む
- 継続的に小さなリファクタリングを実施し、技術的負債の蓄積を防ぐ

## 重要な原則

**問題分解**: 大きな機能を小さなTODOリストに分解し、一つずつ取り組む

**テスト駆動的な設計**: 「作るよりも先に使う」という考え方で、メソッドの実装前にその使用方法を先に書くことで、使いやすいAPIを設計する

**テストは仕様書**: テストコードは「動く仕様書」として機能し、後発の開発者も仕様を理解できるようにする

**小さなステップ**: 一度に大きな変更を行わず、小さなステップで進める

## TDD実践時の手順

1. **要件の分解**: 機能要件をTODOリストとして洗い出し、優先順位をつける
2. **Red**: 最初のテストを書き、失敗することを確認する
3. **Green**: テストを通す最短のコードを書く
4. **Refactoring**: テストが通ったままコードをきれいにする
5. **反復**: 次のTODOに進み、サイクルを繰り返す
6. **完了**: すべてのTODOが完了し、動作するきれいなコードが完成する
